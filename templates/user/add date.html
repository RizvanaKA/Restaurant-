{% extends 'user/user_index.html' %}
{% load static %}
{% block body %}

<style>
  /* Reused styles from your Add Food form to match visuals */
  .contact .form .form-control {
    border: 1px solid rgba(13,110,253,0.25);
    border-radius: .6rem;
    padding: .75rem .9rem;
    background: #fff;
  }

  .card-center {
    border-bottom: 1px solid rgba(13,110,253,0.08);
    border-top: 1px solid rgba(13,110,253,0.08);
    background: #f8f9fa;
    padding: 2.5rem 1.5rem;
  }

  .page-badge {
    display:inline-block;
    padding: .35rem .9rem;
    border-radius: 50rem;
    border: 1px solid rgba(13,110,253,0.15);
    background: #fff;
    font-weight:700;
    color:#212529;
    margin-bottom:.75rem;
  }

  .form-card {
    border-radius: 1rem;
    overflow: hidden;
    background: linear-gradient(180deg, rgba(13,110,253,0.03), #fff 40%);
    border: 1px solid rgba(13,110,253,0.06);
    box-shadow: 0 10px 30px rgba(18,63,145,0.06);
  }

  .form-card .card-top {
    display: flex;
    align-items: center;
    gap: .75rem;
    padding: 1rem 1.25rem;
    border-bottom: 1px solid rgba(0,0,0,0.03);
    background: linear-gradient(90deg, rgba(13,110,253,0.04), transparent);
  }

  .form-badge {
    width: 56px;
    height: 56px;
    border-radius: .75rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.15rem;
    color: #fff;
    background: linear-gradient(135deg, #FCB53B, #FFE797);
    box-shadow: 0 6px 18px rgba(13,110,253,0.12);
  }

  .form-title { margin: 0; font-size: 1.05rem; letter-spacing: .2px; }

  .form-card .card-body { padding: 1.25rem; }

  .form-actions { padding: 1rem 1.25rem 1.25rem; border-top: 1px solid rgba(0,0,0,0.03); display:flex; justify-content:flex-end; }

  .btn-primary.rounded-pill { border-radius:50rem; padding:.6rem 1.25rem; }

  /* message container top-right */
  .msg-wrap { position: fixed; top: 1rem; right: 1rem; z-index: 1080; width: 320px; max-width: calc(100% - 2rem); }

  @media (max-width:576px) {
    .form-card .card-top { padding:.8rem 1rem; }
    .form-card .card-body { padding:1rem; }
    .msg-wrap { width: 92%; left: 4%; right: 4%; }
  }
</style>

{# Message area (shows messages set in views) #}
<div class="msg-wrap">
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}
</div>

<!-- Hero (same look) -->
<div class="container-fluid bg-light py-6 my-6 mt-0">
  <div class="container text-center">
    <h1 class="display-1 mb-4">Date</h1>
    <ol class="breadcrumb justify-content-center mb-0">
      <li class="breadcrumb-item"><a href="#">Home</a></li>
      <li class="breadcrumb-item"><a href="#">Pages</a></li>
      <li class="breadcrumb-item text-dark" aria-current="page">Date</li>
    </ol>
  </div>
</div>

<!-- Main form section -->
<div class="container-fluid contact py-6">
  <div class="container">
    <div class="row g-0">
      <!-- left faded image column (optional) -->
      <div class="col-1 d-none d-md-block">
        <img src="{% static 'home/img/background-site.jpg' %}" class="img-fluid h-100 w-100 rounded-start" style="object-fit: cover; opacity: 0.7;" alt="">
      </div>

      <!-- center: Date form -->
      <div class="col-10">
        <div class="card-center">
          <div class="text-center">
            <span class="page-badge text-dark fw-bold">Date</span>
            <h1 class="display-5 mb-4">Share your Booking Date</h1>
          </div>

          <div class="row g-4 form justify-content-center">
            <div class="col-12 col-lg-10">
              <div class="card form-card">
                <div class="card-top">
                  <div class="form-badge"><i class="fas fa-comment-alt"></i></div>
                  <div>
                    <h5 class="form-title text-primary fw-bold mb-0">Send Date</h5>
                    <div class="text-muted small"></div>
                  </div>
                </div>

                <div class="card-body">
                  <form method="post" action="/myapp/user_book_table/" >
                    {% csrf_token %}

                    <div class="row g-3">
                      <div class="col-12">
                        <input type="date" name="Date" class="form-control" required>
                      </div>
                    </div>

                    <div class="form-actions mt-3">
                      <button type="submit" class="btn btn-primary rounded-pill">Send</button>
                    </div>
                  </form>
                </div>
              </div>
            </div> <!-- /col-12 col-lg-10 -->
          </div> <!-- /row g-4 form -->
        </div> <!-- /card-center -->
      </div>

      <!-- right faded image column (optional) -->
      <div class="col-1 d-none d-md-block">
        <img src="{% static 'home/img/background-site.jpg' %}" class="img-fluid h-100 w-100 rounded-end" style="object-fit: cover; opacity: 0.7;" alt="">
      </div>
    </div>
  </div>
</div>

{# Auto-hide alerts after 4 seconds using Bootstrap's JS API #}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // close alerts automatically after 4 seconds
    setTimeout(function () {
      document.querySelectorAll('.alert').forEach(function (el) {
        // ensure bootstrap is available
        if (typeof bootstrap !== 'undefined') {
          let a = new bootstrap.Alert(el);
          a.close();
        } else {
          // fallback: remove element
          el.remove();
        }
      });
    }, 4000);
  });
</script>

{% endblock %}
